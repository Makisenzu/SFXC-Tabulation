import{j as e,H as h,L as x}from"./app-BFXxh3rB.js";import{P as b}from"./PublicLayout-8awz7VvT.js";import{e as j,v,w as d}from"./index-C1YQJVUj.js";import"./printLogo-Dw7oCvxT.js";import"./iconBase-Nzms_O-n.js";function w({tally:a}){const n=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),c=s=>{const l=a.scores?.filter(i=>i.participant_id===s)||[],t=l.filter(i=>i.score===3).length,r=l.filter(i=>i.score===2).length,o=l.filter(i=>i.score===1).length,g=t+r+o;return{gold:t,silver:r,bronze:o,total:g}},m=[...a.participants||[]].sort((s,l)=>{const t=c(s.id),r=c(l.id);return r.gold!==t.gold?r.gold-t.gold:r.silver!==t.silver?r.silver-t.silver:r.bronze!==t.bronze?r.bronze-t.bronze:s.participant_name.localeCompare(l.participant_name)});return e.jsxs(b,{children:[e.jsx(h,{title:`${a.tally_title} - Archived`}),e.jsx("div",{className:"py-8 bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(x,{href:"/archived-medal-tallies",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(j,{})," Back to Archived Tallies"]}),e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-8 mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:a.tally_title}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Archived on ",n(a.archived_at)]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Competitions"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:a.events?.length||0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Participants"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:a.participants?.length||0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Total Medals"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:a.scores?.length||0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Overall Standings"}),e.jsx("div",{className:"space-y-3",children:m.map((s,l)=>{const t=c(s.id),r=l===0;return e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${r?"bg-gray-50 border-gray-900 border-2":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`text-2xl font-bold ${r?"text-gray-900":"text-gray-400"}`,children:l+1}),e.jsxs("div",{children:[e.jsxs("div",{className:`font-semibold ${r?"text-lg text-gray-900":"text-gray-900"}`,children:[s.participant_name,r&&e.jsx(v,{className:"inline ml-2 text-gray-900"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",t.total," medals"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(d,{className:"text-yellow-500 text-xl mx-auto"}),e.jsx("div",{className:"font-bold text-gray-900",children:t.gold})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(d,{className:"text-gray-400 text-xl mx-auto"}),e.jsx("div",{className:"font-bold text-gray-900",children:t.silver})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(d,{className:"text-orange-600 text-xl mx-auto"}),e.jsx("div",{className:"font-bold text-gray-900",children:t.bronze})]})]})]},s.id)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Competitions"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.events?.map(s=>{const l=a.scores?.filter(t=>t.event_id===s.id)||[];return e.jsxs(x,{href:`/archived-medal-tallies/${a.id}/event/${s.id}`,className:"bg-white rounded-lg p-5 hover:shadow-md transition-shadow border border-gray-200",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-lg",children:s.event_name}),e.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[n(s.event_start)," - ",n(s.event_end)]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"text-gray-900"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[l.length," medals"]})]}),e.jsx("span",{className:"text-gray-400",children:"â†’"})]})]},s.id)})})]})]})})]})}export{w as default};
