import{j as e}from"./app-CPzmvJ56.js";import{j as x,o as j,g as Ne,p as a,l as m,m as o,h as f,i as y}from"./index-DBw3qoLo.js";import{R as F,A as ve}from"./AddMultipleJudgesModal-DP5i3hNq.js";import{F as A}from"./FormModal-Djtgf63f.js";import{P as be}from"./PrimaryButton-BsExR67S.js";import{useCriteriaTable as we}from"./useCriteriaTable-CR9NCBu6.js";import"./iconBase-rNp-wLtq.js";import"./Sweetalert-CnfpffoO.js";import"./TextInput-BStpsATi.js";function $e(){const{activeTab:n,safeEvents:u,safeCriterias:Ce,eventsWithCriteria:q,criteriaByEvent:J,currentEvents:N,pastEvents:l,currentEventsWithCriteria:R,pastEventsWithCriteria:v,loading:H,error:$,expandedEvents:B,showAddEventModal:W,showEditEventModal:I,showAddCriteriaModal:G,showEditCriteriaModal:K,showAddJudgesModal:z,processing:d,editingEvent:b,editingCriteria:w,selectedEventForJudges:O,addEventFormData:Q,editEventFormData:U,addCriteriaFormData:X,editCriteriaFormData:Y,showPastEvents:r,setShowPastEvents:S,eventsPagination:Ee,setEventsPagination:ke,addEventFields:Z,editEventFields:ee,addCriteriaFields:se,editCriteriaFields:te,toggleEventExpansion:L,expandAllEvents:ae,collapseAllEvents:re,formatDateWithTime:c,getStatusBadge:i,getArchiveBadge:h,getEventTypeBadge:C,getPercentageDisplay:D,getRoundBadge:T,handleTabChange:V,handlePageChange:_e,openAddEvent:ie,closeAddEvent:ne,openEditEvent:E,closeEditEvent:le,openAddCriteria:de,closeAddCriteria:ce,openEditCriteria:P,closeEditCriteria:xe,openAddJudges:k,closeAddJudgesModal:me,handleAddEventFormChange:oe,handleEditEventFormChange:he,handleAddCriteriaFormChange:ge,handleEditCriteriaFormChange:pe,handleAddEventSubmit:je,handleEditEventSubmit:fe,handleAddCriteriaSubmit:ye,handleEditCriteriaSubmit:ue,handleDeleteEvent:_,handleDeleteCriteria:M}=we();return H?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):$?e.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsxs("div",{className:"text-red-600 mb-4",children:[e.jsx(x,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Error Loading Data"}),e.jsx("p",{className:"text-sm mt-1",children:$})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-150",children:"Retry"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex",children:[e.jsxs("button",{onClick:()=>V("events"),className:`flex-1 py-4 px-6 text-center border-b-2 font-medium text-sm flex items-center justify-center ${n==="events"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(x,{className:"mr-2"}),"Events"]}),e.jsxs("button",{onClick:()=>V("criterias"),className:`flex-1 py-4 px-6 text-center border-b-2 font-medium text-sm flex items-center justify-center ${n==="criterias"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(j,{className:"mr-2"}),"Criteria"]})]})}),e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n==="events"?"Events Management":"Criteria Management"})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n==="criterias"&&q.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:ae,className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Expand All"}),e.jsx("button",{onClick:re,className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Collapse All"})]}),e.jsxs(be,{onClick:n==="events"?ie:de,className:"w-full sm:w-auto",children:[e.jsx(Ne,{className:"mr-2"}),"Add ",n==="events"?"Event":"Criteria"]})]})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[n==="events"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block md:hidden",children:N.length===0&&l.length===0?e.jsx("div",{className:"px-4 py-6 text-center text-sm text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(x,{className:"w-10 h-10 text-gray-300 mb-2"}),e.jsx("p",{children:"No events found"}),e.jsx("p",{className:"text-xs mt-1",children:"Get started by creating a new event"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"divide-y divide-gray-200",children:N.map(s=>e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 flex items-center justify-center bg-blue-100 rounded-full",children:e.jsx(x,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:s.event_name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.description||"No description"})]})]})}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Type:"}),C(s.event_type)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Status:"}),e.jsxs("div",{className:"flex gap-1",children:[i(s.is_active,s),h(s.is_archived)]})]}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["Start: ",c(s.event_start)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["End: ",c(s.event_end)]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>k(s),className:"flex-1 min-w-[120px] inline-flex items-center justify-center px-3 py-2 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Judges"]}),e.jsxs("button",{onClick:()=>E(s),className:"flex-1 min-w-[100px] inline-flex items-center justify-center px-3 py-2 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx("button",{onClick:()=>_(s.id),className:"inline-flex items-center justify-center px-3 py-2 border border-transparent rounded text-xs font-medium text-white bg-red-600 hover:bg-red-700",children:e.jsx(o,{className:"w-3 h-3"})})]})]},s.id))}),l.length>0&&e.jsxs("div",{className:"border-t-4 border-gray-300 mt-4",children:[e.jsxs("button",{onClick:()=>S(!r),className:"w-full px-4 py-3 bg-gray-100 hover:bg-gray-200 flex items-center justify-between transition-colors",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Past Events (",l.length,")"]}),r?e.jsx(f,{className:"w-4 h-4 text-gray-600"}):e.jsx(y,{className:"w-4 h-4 text-gray-600"})]}),r&&e.jsx("div",{className:"divide-y divide-gray-200 bg-gray-50",children:l.map(s=>e.jsxs("div",{className:"p-4 hover:bg-gray-100 opacity-75",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 flex items-center justify-center bg-gray-300 rounded-full",children:e.jsx(a,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:s.event_name}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.description||"No description"})]})]})}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Type:"}),C(s.event_type)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Status:"}),e.jsxs("div",{className:"flex gap-1",children:[i(s.is_active,s),h(s.is_archived)]})]}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["Start: ",c(s.event_start)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["End: ",c(s.event_end)]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>k(s),className:"flex-1 min-w-[120px] inline-flex items-center justify-center px-3 py-2 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Judges"]}),e.jsxs("button",{onClick:()=>E(s),className:"inline-flex items-center justify-center px-3 py-2 border border-transparent rounded text-xs font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx("button",{onClick:()=>_(s.id),className:"inline-flex items-center justify-center px-3 py-2 border border-transparent rounded text-xs font-medium text-white bg-red-600 hover:bg-red-700",children:e.jsx(o,{className:"w-3 h-3"})})]})]},s.id))})]})]})}),e.jsxs("table",{className:"hidden md:table min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event Details"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.length===0&&l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-4 py-6 text-center text-sm text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(x,{className:"w-10 h-10 text-gray-300 mb-2"}),e.jsx("p",{children:"No events found"}),e.jsx("p",{className:"text-xs mt-1",children:"Get started by creating a new event"})]})})}):e.jsxs(e.Fragment,{children:[N.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-blue-100 rounded-full",children:e.jsx(x,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.event_name}),e.jsx("div",{className:"text-sm text-gray-500 line-clamp-1",children:s.description||"No description"})]})]})}),e.jsx("td",{className:"px-4 py-3",children:C(s.event_type)}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"text-sm text-gray-900 space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(a,{className:"w-3 h-3 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-700",children:"Start:"}),e.jsx("div",{children:c(s.event_start)})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(a,{className:"w-3 h-3 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-700",children:"End:"}),e.jsx("div",{children:c(s.event_end)})]})]})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[i(s.is_active,s),h(s.is_archived)]})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[e.jsxs("button",{onClick:()=>k(s),className:"inline-flex items-center px-2 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-colors duration-150",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Assign Judges"]}),e.jsxs("button",{onClick:()=>E(s),className:"inline-flex items-center px-2 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-colors duration-150",children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsxs("button",{onClick:()=>_(s.id),className:"inline-flex items-center px-2 py-1 border border-transparent rounded text-xs font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-1 focus:ring-red-500 transition-colors duration-150",children:[e.jsx(o,{className:"w-3 h-3 mr-1"}),"Delete"]})]})})]},s.id)),l.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("tr",{className:"bg-gray-100 border-t-4 border-gray-300",children:e.jsx("td",{colSpan:"5",className:"px-4 py-0",children:e.jsxs("button",{onClick:()=>S(!r),className:"w-full py-3 flex items-center justify-between hover:bg-gray-200 transition-colors",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["Past Events (",l.length,")"]}),r?e.jsx(f,{className:"w-4 h-4 text-gray-600"}):e.jsx(y,{className:"w-4 h-4 text-gray-600"})]})})}),r&&l.map(s=>e.jsxs("tr",{className:"hover:bg-gray-100 bg-gray-50 opacity-75 transition-colors duration-150",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-gray-300 rounded-full",children:e.jsx(a,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700",children:s.event_name}),e.jsx("div",{className:"text-sm text-gray-500 line-clamp-1",children:s.description||"No description"})]})]})}),e.jsx("td",{className:"px-4 py-3",children:C(s.event_type)}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(a,{className:"w-3 h-3 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-600",children:"Start:"}),e.jsx("div",{children:c(s.event_start)})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(a,{className:"w-3 h-3 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-600",children:"End:"}),e.jsx("div",{children:c(s.event_end)})]})]})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[i(s.is_active,s),h(s.is_archived)]})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsxs("button",{onClick:()=>k(s),className:"inline-flex items-center px-2 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-colors duration-150",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Judges"]}),e.jsxs("button",{onClick:()=>E(s),className:"inline-flex items-center px-2 py-1 border border-transparent rounded text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-colors duration-150",children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsxs("button",{onClick:()=>_(s.id),className:"inline-flex items-center px-2 py-1 border border-transparent rounded text-xs font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-1 focus:ring-red-500 transition-colors duration-150",children:[e.jsx(o,{className:"w-3 h-3 mr-1"}),"Delete"]})]})})]},s.id))]})]})})]})]}):e.jsx("div",{className:"bg-white",children:R.length===0&&v.length===0?e.jsx("div",{className:"px-4 py-6 text-center text-sm text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(j,{className:"w-10 h-10 text-gray-300 mb-2"}),e.jsx("p",{children:"No criteria found"}),e.jsx("p",{className:"text-xs mt-1",children:"Get started by creating a new criteria"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:R.map(s=>{const g=J[s.id]||[],p=B.has(s.id);return e.jsxs("div",{className:"border-b border-gray-200 last:border-b-0",children:[e.jsx("div",{className:"sticky top-0 z-10 px-4 py-3 bg-gray-50 hover:bg-gray-100 cursor-pointer transition-colors duration-150 shadow-sm",onClick:()=>L(s.id),children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[p?e.jsx(f,{className:"w-4 h-4 text-gray-500 mr-2 flex-shrink-0"}):e.jsx(y,{className:"w-4 h-4 text-gray-500 mr-2 flex-shrink-0"}),e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-blue-100 rounded-full",children:e.jsx(x,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"ml-3 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:s.event_name}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[s.event_type," • ",g.length," criteria"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[i(s.is_active,s),h(s.is_archived)]})]})}),p&&e.jsxs("div",{className:"bg-gray-25",children:[e.jsx("div",{className:"block lg:hidden divide-y divide-gray-200",children:g.map(t=>e.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-green-100 rounded-full",children:e.jsx(j,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:t.criteria_desc}),e.jsx("p",{className:"text-xs text-gray-600",children:t.definition||"No description provided"})]})]})}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Percentage:"}),D(t.percentage)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Round:"}),T(t)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Status:"}),i(t.is_active)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>P(t),className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx("button",{onClick:()=>M(t.id),className:"inline-flex items-center justify-center px-3 py-2 border border-transparent rounded text-xs font-medium text-white bg-red-600 hover:bg-red-700",children:e.jsx(o,{className:"w-3 h-3"})})]})]},t.id))}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criteria"}),e.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criteria %"}),e.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valid Round"}),e.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-4 sm:px-6 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-4 sm:px-6 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center bg-green-100 rounded-full",children:e.jsx(j,{className:"w-3 h-3 text-green-600"})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.criteria_desc})})]})}),e.jsx("td",{className:"px-4 sm:px-6 py-3",children:e.jsx("div",{className:"text-sm text-gray-600 max-w-xs",children:t.definition||"No description provided"})}),e.jsx("td",{className:"px-4 sm:px-6 py-3",children:D(t.percentage)}),e.jsx("td",{className:"px-4 sm:px-6 py-3",children:T(t)}),e.jsx("td",{className:"px-4 sm:px-6 py-3",children:i(t.is_active)}),e.jsx("td",{className:"px-4 sm:px-6 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[e.jsxs("button",{onClick:()=>P(t),className:"inline-flex items-center px-2 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-colors duration-150",children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsxs("button",{onClick:()=>M(t.id),className:"inline-flex items-center px-2 py-1 border border-transparent rounded text-xs font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-1 focus:ring-red-500 transition-colors duration-150",children:[e.jsx(o,{className:"w-3 h-3 mr-1"}),"Delete"]})]})})]},t.id))})]})})]})]},s.id)})}),v.length>0&&e.jsxs("div",{className:"border-t-4 border-gray-300",children:[e.jsxs("button",{onClick:()=>S(!r),className:"w-full px-4 py-3 bg-gray-100 hover:bg-gray-200 flex items-center justify-between transition-colors",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[e.jsx(a,{className:"w-4 h-4"}),"Past Events (",v.length,")"]}),r?e.jsx(f,{className:"w-5 h-5 text-gray-600"}):e.jsx(y,{className:"w-5 h-5 text-gray-600"})]}),r&&e.jsx("div",{className:"max-h-[600px] overflow-y-auto bg-gray-50",children:v.map(s=>{const g=J[s.id]||[],p=B.has(s.id);return e.jsxs("div",{className:"border-b border-gray-200 last:border-b-0 opacity-75",children:[e.jsx("div",{className:"sticky top-0 z-10 px-4 py-3 bg-gray-200 hover:bg-gray-300 cursor-pointer transition-colors duration-150 shadow-sm",onClick:()=>L(s.id),children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[p?e.jsx(f,{className:"w-4 h-4 text-gray-500 mr-2 flex-shrink-0"}):e.jsx(y,{className:"w-4 h-4 text-gray-500 mr-2 flex-shrink-0"}),e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-gray-400 rounded-full",children:e.jsx(a,{className:"w-4 h-4 text-gray-700"})}),e.jsxs("div",{className:"ml-3 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 truncate",children:s.event_name}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[s.event_type," • ",g.length," criteria"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[i(s.is_active,s),h(s.is_archived)]})]})}),p&&e.jsx("div",{className:"bg-gray-100",children:e.jsx("div",{className:"divide-y divide-gray-200",children:g.map(t=>e.jsxs("div",{className:"p-4 hover:bg-gray-200",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-gray-300 rounded-full",children:e.jsx(j,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-1",children:t.criteria_desc}),e.jsx("p",{className:"text-xs text-gray-600",children:t.definition||"No description provided"})]})]})}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Percentage:"}),D(t.percentage)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Round:"}),T(t)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Status:"}),i(t.is_active)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>P(t),className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx("button",{onClick:()=>M(t.id),className:"inline-flex items-center justify-center px-3 py-2 border border-transparent rounded text-xs font-medium text-white bg-red-600 hover:bg-red-700",children:e.jsx(o,{className:"w-3 h-3"})})]})]},t.id))})})]},s.id)})})]})]})}),z&&e.jsx(ve,{show:z,onClose:me,selectedEvent:O})]}),n==="events"&&u.length>0&&e.jsx("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-2 sm:space-y-0",children:e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:Math.min(u.length,1)})," to"," ",e.jsx("span",{className:"font-medium",children:u.length})," of"," ",e.jsx("span",{className:"font-medium",children:u.length})," events"]})})})]}),e.jsx(A,{show:W,onClose:ne,title:"Add Event",fields:Z,onSubmit:je,submitText:d?"Adding...":"Add Event",processing:d,formData:Q,onFormChange:oe},`add-event-${W}`),e.jsx(A,{show:I,onClose:le,title:`Editing - ${b?b.event_name:""}`,initialData:b,fields:ee,onSubmit:fe,submitText:d?"Saving...":"Save Changes",processing:d,formData:U,onFormChange:he},`edit-event-${b?.id||"none"}`),e.jsx(A,{show:G,onClose:ce,title:"Add Criteria",fields:se,onSubmit:ye,submitText:d?"Adding...":"Add Criteria",processing:d,formData:X,onFormChange:ge},`add-criteria-${G}`),e.jsx(A,{show:K,onClose:xe,title:`Editing - ${w?w.criteria_desc:""}`,initialData:w,fields:te,onSubmit:ue,submitText:d?"Saving...":"Save Changes",processing:d,formData:Y,onFormChange:pe},`edit-criteria-${w?.id||"none"}`)]})}export{$e as default};
