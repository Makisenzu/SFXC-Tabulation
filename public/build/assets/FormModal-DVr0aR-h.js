import{r as b,j as s}from"./app--_hvIVQq.js";import{T as w}from"./TextInput-Cx9ji1-g.js";import{P as f}from"./PrimaryButton-D50J60tm.js";import{t as q}from"./index-BMjdZWFM.js";const I=({show:n=!1,onClose:o=()=>{},title:j="Form",initialData:h=null,onSubmit:y=()=>{},fields:i=[],submitText:v="Submit",processing:m=!1,formData:l={},onFormChange:c=()=>{}})=>{const[d,u]=b.useState({}),[p,g]=b.useState(!1);b.useEffect(()=>{if(n&&!p){const e={};i.forEach(r=>{e[r.name]=h?.[r.name]??r.defaultValue??(r.type==="select"&&r.required?r.options?.[0]?.value:"")}),c(e),u({}),g(!0)}n||g(!1)},[n,p,h,i,c]);const x=e=>{const{name:r,value:a}=e.target;c({...l,[r]:a}),d[r]&&u(t=>({...t,[r]:null}))},N=async e=>{e.preventDefault();try{await y(l),o()}catch(r){r.response?.data?.errors?u(r.response.data.errors):console.error("Form submission error:",r)}};return n?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:o}),s.jsx("div",{className:"relative z-50 w-full max-w-md p-4 mx-auto",children:s.jsx("div",{className:"relative bg-white rounded-lg shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:j}),s.jsxs("form",{onSubmit:N,children:[s.jsx("div",{className:"space-y-4",children:i.map(e=>{const r=l[e.name]??"",a=!!d[e.name];return s.jsxs("div",{children:[s.jsxs("label",{htmlFor:e.name,className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&s.jsx("span",{className:"text-red-500",children:"*"})]}),e.type==="select"?s.jsxs("select",{id:e.name,name:e.name,value:r,onChange:x,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm ${a?"border-red-500":"border"}`,required:e.required,disabled:e.disabled,children:[!e.required&&!e.hideDefaultOption&&s.jsxs("option",{value:"",children:["Select ",e.label]}),e.options?.map(t=>s.jsx("option",{value:t.value,children:t.label},t.value))]}):e.type==="textarea"?s.jsx("textarea",{id:e.name,name:e.name,value:r,onChange:x,className:`mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm ${a?"border-red-500":"border"}`,rows:e.rows||3,required:e.required,disabled:e.disabled}):s.jsx(w,{id:e.name,name:e.name,type:e.type||"text",value:r,onChange:x,className:`w-full ${a?"border-red-500":""}`,required:e.required,disabled:e.disabled,placeholder:e.placeholder}),a&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[e.name]})]},e.name)})}),s.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:o,className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",disabled:m,children:"Cancel"}),s.jsxs(f,{type:"submit",disabled:m,children:[s.jsx(q,{size:20,className:"mr-2"}),m?"Processing...":v]})]})]})]})})})]}):null};export{I as F};
