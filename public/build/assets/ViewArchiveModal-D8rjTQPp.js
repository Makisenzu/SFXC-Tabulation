import{r as m,j as e}from"./app-Dhrlq6nC.js";import{p as h,u as g,v as b}from"./index-CzRFV4Sv.js";import"./iconBase-BcJCJZJC.js";function u({archiveData:t,onClose:d}){const[l,n]=m.useState("rankings"),i=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=s=>({1:{color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:"ðŸ¥‡",label:"1st Place"},2:{color:"bg-gray-100 text-gray-800 border-gray-300",icon:"ðŸ¥ˆ",label:"2nd Place"},3:{color:"bg-orange-100 text-orange-800 border-orange-300",icon:"ðŸ¥‰",label:"3rd Place"}})[s]||{color:"bg-blue-100 text-blue-800 border-blue-300",icon:"ðŸ…",label:`${s}th Place`};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl my-8",children:[e.jsxs("div",{className:"flex justify-between items-start p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t.event.event_name}),e.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",t.event.event_type]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",t.event.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Event Period:"})," ",new Date(t.event.event_start).toLocaleDateString()," - ",new Date(t.event.event_end).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Archived:"})," ",i(t.archived_at)]})]}),t.notes&&e.jsx("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Notes:"})," ",t.notes]})})]}),e.jsx("button",{onClick:d,className:"text-gray-500 hover:text-gray-700",children:e.jsx(h,{size:24})})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex gap-4 px-6",children:[e.jsx("button",{onClick:()=>n("rankings"),className:`py-3 px-4 font-medium text-sm border-b-2 transition-colors ${l==="rankings"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{}),"Final Rankings"]})}),e.jsx("button",{onClick:()=>n("details"),className:`py-3 px-4 font-medium text-sm border-b-2 transition-colors ${l==="details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{}),"Detailed Scores"]})})]})}),e.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[l==="rankings"&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Final Rankings"}),e.jsx("div",{className:"space-y-3",children:t.rankings.map(s=>{const r=c(s.rank);return e.jsx("div",{className:`p-4 rounded-lg border-2 ${r.color}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:r.icon}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold text-lg",children:s.contestant_name}),e.jsx("p",{className:"text-sm opacity-75",children:r.label})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.total_score}),e.jsx("div",{className:"text-sm opacity-75",children:"Total Score"})]})]})},s.contestant_id)})})]}),l==="details"&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Detailed Scores by Contestant"}),e.jsx("div",{className:"space-y-6",children:t.archive_data.contestants.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:[e.jsx("h5",{className:"font-bold text-lg text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Sequence #",s.sequence_no]})]}),e.jsx("div",{className:"p-4",children:s.rounds&&s.rounds.length>0?e.jsx("div",{className:"space-y-4",children:s.rounds.map((r,o)=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded p-3",children:[e.jsxs("h6",{className:"font-semibold text-sm text-gray-700 mb-2",children:["Round ",r.round_no]}),r.scores&&r.scores.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Criteria"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Judge"}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Score"}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Weight"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.scores.map((a,x)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 text-gray-900",children:a.criteria}),e.jsx("td",{className:"px-3 py-2 text-gray-600",children:a.judge}),e.jsx("td",{className:"px-3 py-2 text-right font-semibold text-gray-900",children:a.score}),e.jsxs("td",{className:"px-3 py-2 text-right text-gray-600",children:[a.percentage,"%"]})]},x))})]})}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No scores recorded for this round"})]},o))}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No rounds recorded for this contestant"})})]},s.id))})]})]}),e.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:e.jsx("button",{onClick:d,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium",children:"Close"})})]})})}export{u as default};
